(function () {
	"use strict";

	function ExtArr () {
		Object.defineProperties(this, {
			'last': {
				get: function () {return this[this.length - 1] || undefined;},
				set: function (v) {this[this.length - 1] = v;},
				enumerable: false,
				configurable: false
			},
			'position': {
				value: function (v) {
					for (var i = 0, l = this.length; i < l; ++i)
						if (this[i] === v)
							return i;
					return undefined;
				},
				writable: false,
				enumerable: false,
				configurable: false
			}
		});
		if (arguments.length > 1) {
			for (var i = 0, l = arguments.length; i < l; ++i)
				this.push(arguments[i]);
		} else if (arguments.length === 1) {
			var length = arguments[0];
			if (length < 0 || length > Math.pow(2, 32) - 1)
				throw new RangeError('Invalid array length: ' + length);
			for (var i = 0; i < length; ++i)
				this.push(undefined);
		}
	}
	ExtArr.prototype = Array.prototype;

	exports.constructor = ExtArr;
 })()